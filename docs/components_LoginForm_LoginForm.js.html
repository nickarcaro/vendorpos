<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/LoginForm/LoginForm.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/LoginForm/LoginForm.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { React, useState } from "react";
import { Form, Input, Button, notification } from "antd";
import { MailOutlined, LockOutlined } from "@ant-design/icons";
import { useFormik } from "formik";
import * as Yup from "yup";
import useAuth from "../../hooks/useAuth";
import { loginApi } from "../../api/user";
/**
 * Componente login de usuario
 * @returns Renderizadoo LoginForm
 */
const LoginForm = () => {
  const [loading, setLoading] = useState(false);
  const { login } = useAuth();

  const formik = useFormik({
    initialValues: initialValues(),
    validationSchema: Yup.object(validationSchema()),
    onSubmit: async (formData) => {
      setLoading(true);
      const response = await loginApi(formData);
      if (response?.jwt) {
        notification["success"]({
          message: "Login correcto.",
        });
        login(response.jwt);
      } else {
        notification["error"]({
          message: "El email o la contraseña son incorrectos",
        });
      }
      setLoading(false);
    },
  });

  return (
    &lt;Form
      style={{ maxWidth: 300, float: "left" }}
      onFinish={formik.handleSubmit}
    >
      &lt;Form.Item>
        &lt;Input
          prefix={&lt;MailOutlined className="site-form-item-icon" />}
          name="identifier"
          type="text"
          placeholder="Correo electrónico"
          onChange={formik.handleChange}
          value={formik.values.identifier}
        />
        {formik.errors.identifier ? (
          &lt;div>{formik.errors.identifier}&lt;/div>
        ) : null}
      &lt;/Form.Item>
      &lt;Form.Item>
        &lt;Input.Password
          prefix={&lt;LockOutlined className="site-form-item-icon" />}
          name="password"
          type="password"
          placeholder="Contraseña"
          onChange={formik.handleChange}
        />
      &lt;/Form.Item>

      &lt;Form.Item>
        &lt;Button
          type="primary"
          htmlType="submit"
          className="login-form-button"
          loading={loading}
        >
          Iniciar Sesión
        &lt;/Button>
      &lt;/Form.Item>
    &lt;/Form>
  );
};

function initialValues() {
  return {
    identifier: "",
    password: "",
  };
}

function validationSchema() {
  return {
    identifier: Yup.string()
      .email("El email no es valido")
      .required("El email es obligatorio"),
    password: Yup.string().required("La contraseña es obligatorio"),
  };
}
export default LoginForm;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#clearCart">clearCart</a></li><li><a href="global.html#ConfirmSale">ConfirmSale</a></li><li><a href="global.html#createSale">createSale</a></li><li><a href="global.html#getPromotionDiscount">getPromotionDiscount</a></li><li><a href="global.html#getTotal">getTotal</a></li><li><a href="global.html#ListCart">ListCart</a></li><li><a href="global.html#ListProducts">ListProducts</a></li><li><a href="global.html#LoginForm">LoginForm</a></li><li><a href="global.html#MenuTop">MenuTop</a></li><li><a href="global.html#newSale">newSale</a></li><li><a href="global.html#Payment">Payment</a></li><li><a href="global.html#Pos">Pos</a></li><li><a href="global.html#SearchBar">SearchBar</a></li><li><a href="global.html#SelectStore">SelectStore</a></li><li><a href="global.html#Voucher">Voucher</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Mon Jul 05 2021 17:53:06 GMT-0400 (Chile Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
